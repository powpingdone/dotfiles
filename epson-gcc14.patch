diff --git a/pkgs/by-name/ep/epson-escpr/gcc-14-fixes.diff b/pkgs/by-name/ep/epson-escpr/gcc-14-fixes.diff
new file mode 100644
index 000000000000..e037c6a42510
--- /dev/null
+++ b/pkgs/by-name/ep/epson-escpr/gcc-14-fixes.diff
@@ -0,0 +1,50 @@
+diff --git a/lib/epson-escpr-api.h b/lib/epson-escpr-api.h
+index 3fc77af..9913f4a 100644
+--- a/lib/epson-escpr-api.h
++++ b/lib/epson-escpr-api.h
+@@ -111,6 +111,9 @@ extern EPS_ERR_CODE epsGetUsersizeRange  (EPS_UINT8, EPS_UINT32*, EPS_UINT32*,
+     /*** -------------------------------------------------------------------------------*/
+ extern EPS_ERR_CODE epsMakeMainteCmd     (EPS_INT32, EPS_UINT8*, EPS_UINT32*            );
+ 
++EPS_ERR_CODE SendStartJob			(EPS_BOOL                               );
++EPS_ERR_CODE SetupJobAttrib          (const EPS_JOB_ATTRIB*                             );
++EPS_ERR_CODE PrintBand               (const EPS_UINT8*, EPS_UINT32, EPS_UINT32*         );
+ #ifdef __cplusplus
+ }
+ #endif
+diff --git a/lib/epson-escpr-mem.h b/lib/epson-escpr-mem.h
+index 1141ad6..6ac8454 100644
+--- a/lib/epson-escpr-mem.h
++++ b/lib/epson-escpr-mem.h
+@@ -124,6 +124,7 @@ extern EPS_UINT8	memSearchWhiteColorVal(EPS_UINT8, EPS_UINT8*, EPS_UINT16			);
+ 			*pCurSize = (nNewSize);									\
+ 		}
+ 		
++EPS_ERR_CODE pageAllocBuffer(void);
+ #ifdef    __cplusplus
+ }
+ #endif    /* def __cplusplus    */
+diff --git a/src/filter.c b/src/filter.c
+index f3e41ff..8ca5e15 100644
+--- a/src/filter.c
++++ b/src/filter.c
+@@ -33,6 +33,7 @@
+ #include "epson-protocol.h"
+ #include "epson-escpr-api.h"
+ #include "epson-escpr-mem.h"
++#include "epson-escpr-services.h"
+ 
+ #include "err.h"
+ #include "mem.h"
+diff --git a/src/mem.c b/src/mem.c
+index f53f2bc..d6c945a 100644
+--- a/src/mem.c
++++ b/src/mem.c
+@@ -23,6 +23,7 @@
+ 
+ #include <stdlib.h>
+ #include "mem.h"
++#include "err.h"
+ 
+ void *
+ mem_malloc (unsigned int size, bool_t crit)
diff --git a/pkgs/by-name/ep/epson-escpr/package.nix b/pkgs/by-name/ep/epson-escpr/package.nix
index 7300749235fd..b85e18669c96 100644
--- a/pkgs/by-name/ep/epson-escpr/package.nix
+++ b/pkgs/by-name/ep/epson-escpr/package.nix
@@ -19,7 +19,7 @@ in stdenv.mkDerivation {
     sha256 = "sha256:09rscpm557dgaflylr93wcwmyn6fnvr8nc77abwnq97r6hxwrkhk";
   };
 
-  patches = [ ./cups-filter-ppd-dirs.patch ];
+  patches = [ ./cups-filter-ppd-dirs.patch ./gcc-14-fixes.diff];
 
   buildInputs = [ cups ];
 
